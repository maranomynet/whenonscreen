/* jQuery.fn.whenOnScreen 1.0  (https://github.com/maranomynet/whenonscreen/)   @license MIT/GPL */
!function(e){var t,r,l,n=e(window),i=e.whenOnScreen={nsEvents:!1,recalcOnResize:!0,live:!1,leftright:!1,range:{visible:{radius:50}},throttle:50},o=function(e,t){var r=/^(-?\d+(?:\.\d+)?)%(s|e)$/.exec(e),l=r&&parseFloat(r[1])/100,n=r&&("s"===r[2]?"scr":"elm")+(/^[TB]/.test(t)?"Height":"Width");return r?function(e){return l*e[n]}:parseInt(e,10)||0},h=function(e,t,r,l,n){var i="_"+n;return r||null==e[i]?e[i]=t(l,n):e[i]},s=[],a=[],c=function(t){for(var o,s,c,f,g=n.scrollTop(),u=n.height(),m=g+u,v=!t.type,p=v||i.recalcOnResize&&"resize"===t.type,d=v?t:a,w=0;f=d[w];w++){var L,T,b,O=f.elm,R=p||f.live,y=R&&O.offset(),B=R?f.elmTop=y.top:f.elmTop,S=R?f.elmHeight=O.outerHeight():f.elmHeight,E=R?f.elmBottom=B+S:f.elmBottom;f.leftright&&(w||(o=n.scrollLeft(),s=n.width(),c=o+s),L=R?f.elmLeft=y.left:f.elmLeft,T=R?f.elmWidth=O.outerWidth():f.elmWidth,b=R?f.elmRight=L+T:f.elmRight);var H={scrTop:g,scrHeight:u,scrBottom:m,scrLeft:o,scrWidth:s,scrRight:c,$elm:O,elmTop:B,elmHeight:S,elmBottom:E,elmLeft:L,elmWidth:T,elmRight:b,lastScrTop:r,lastScrLeft:l,leftright:f.leftright};e.each(f.ranges,function(e,t){var r,l=t.top,n=t.bottom;l.call&&(l=h(t,l,R,H,"top")),n.call&&(n=h(t,n,R,H,"bottom"));var s=B-l>=m,a=g>=E+n;if(s&&a&&(s=a=!1),O.isElmBelow=s,O.isElmAbove=a,r=!s&&!a,f.leftright){var u=t.left,v=t.right;u.call&&(u=h(t,u,R,H,"left")),v.call&&(v=h(t,v,R,H,"right"));var p=L-u>=c,d=o>=b+v;p&&d&&(p=d=!1),O.isElmRight=p,O.isElmLeft=d,r=r&&!p&&!d}r!==t.onscreen&&(t.onscreen=r,H.type=(r?"whenon":"whenoff")+"screen"+(i.nsEvents?"."+e:""),H.range=t,O.trigger(H))}),r=g,l=o}};e.fn.whenOnScreen=function(r,l){var h,f="run";if("string"==typeof r&&(f=r,r=l),r=e.extend({},r),"run"===f){if(h=null!=r.ranges?r.ranges:i.ranges,e.isArray(h)){var g=h;h={},e.each(g,function(e,t){h["r"+e]=t})}h=e.isPlainObject(h)?h:{visible:{radius:h}},e.each(h,function(e,t){var r=t.radius||0;delete t.radius,null==t.top&&(t.top=r),null==t.bottom&&(t.bottom=r),null==t.left&&(t.left=r),null==t.right&&(t.right=r)})}var u=this;return this.each(function(){var t=this,l=e.inArray(t,s),n=l>-1;if("stop"===f)n&&(s.splice(l,1),a.splice(l,1));else{if("data"===f)return u=a[l],!1;var g=n?a[l]:{};"run"===f&&(n||(s.push(t),a.push(g),g.elm=e(t)),g.leftright=null!=r.leftright?!!r.leftright:!!i.leftright,g.live=null!=r.live?!!r.live:!!i.live,g.ranges={},e.each(h,function(t,r){g.ranges[t]=e.extend({},r)})),e.each(g.ranges,function(t,r){e.each(["Top","Bottom","Left","Right"],function(e,t){var l=t.toLowerCase(),n=r[l];r[l]=n.charAt?o(n,t):n,delete r["_"+l]})}),setTimeout(c,0,[g])}}),s.length?t||(t=!0,n.on("scroll.whenOnScreen resize.whenOnScreen",e.throttleFn&&i.throttle?e.throttleFn(c,!0,i.throttle):c)):(n.off(".whenOnScreen"),t=!1),u}}(jQuery);
